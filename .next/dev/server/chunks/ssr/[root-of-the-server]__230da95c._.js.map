{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///D:/Khedme/Khedme-Web/src/components/AdminLayout.js"],"sourcesContent":["// D:\\Khedme\\Khedme-Web\\src\\components\\AdminLayout.js\r\nimport Link from \"next/link\";\r\n\r\nexport default function AdminLayout({ children }) {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 text-gray-800\">\r\n      {/* Navbar */}\r\n      <nav className=\"flex justify-between items-center bg-orange-500 text-white px-6 py-4 shadow-md\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <img src=\"/logo.png\" alt=\"Khedme Logo\" className=\"w-8 h-8 rounded\" />\r\n          <h1 className=\"text-lg font-semibold\">Khedme Admin</h1>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-4\">\r\n          <Link href=\"/admin/home\" className=\"hover:underline\">\r\n            Dashboard\r\n          </Link>\r\n          <Link href=\"/admin/approve\" className=\"hover:underline\">\r\n            Approvals\r\n          </Link>\r\n          <Link\r\n            href=\"/\"\r\n            className=\"bg-white text-orange-600 px-3 py-1 rounded-lg font-medium hover:bg-orange-100\"\r\n          >\r\n            Home\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Page content */}\r\n      <main className=\"p-6\">{children}</main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,qDAAqD;;;;;;AACrD;;;AAEe,SAAS,YAAY,EAAE,QAAQ,EAAE;IAC9C,qBACE,qKAAC;QAAI,WAAU;;0BAEb,qKAAC;gBAAI,WAAU;;kCACb,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAI,KAAI;gCAAY,KAAI;gCAAc,WAAU;;;;;;0CACjD,qKAAC;gCAAG,WAAU;0CAAwB;;;;;;;;;;;;kCAGxC,qKAAC;wBAAI,WAAU;;0CACb,qKAAC,gIAAI;gCAAC,MAAK;gCAAc,WAAU;0CAAkB;;;;;;0CAGrD,qKAAC,gIAAI;gCAAC,MAAK;gCAAiB,WAAU;0CAAkB;;;;;;0CAGxD,qKAAC,gIAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;;0BAOL,qKAAC;gBAAK,WAAU;0BAAO;;;;;;;;;;;;AAG7B","debugId":null}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///D:/Khedme/Khedme-Web/src/pages/admin/approve.js"],"sourcesContent":["\"use client\";\r\n\r\nimport dynamic from \"next/dynamic\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport AdminLayout from \"@/components/AdminLayout\";\r\n\r\nfunction ApprovePageComponent() {\r\n  const [providers, setProviders] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [districts, setDistricts] = useState([]);\r\n  const [loadingIds, setLoadingIds] = useState([]);\r\n\r\n  // Fetch meta + providers\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [metaRes, providersRes] = await Promise.all([\r\n          axios.get(\"https://khedme-api.onrender.com/api/meta\"),\r\n          axios.get(\"https://khedme-api.onrender.com/api/providers/pending\"),\r\n        ]);\r\n\r\n        setCategories(metaRes.data.categories || []);\r\n        setDistricts(metaRes.data.districts || []);\r\n        setProviders(providersRes.data.providers || []);\r\n      } catch (err) {\r\n        console.error(\"‚ùå Error fetching data:\", err);\r\n        toast.error(\"Failed to load pending providers ‚ùå\");\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Helpers\r\n  const markLoading = (id) => setLoadingIds((s) => [...s, id]);\r\n  const unmarkLoading = (id) => setLoadingIds((s) => s.filter((x) => x !== id));\r\n\r\n  const getCategoryName = (id) => {\r\n    const cat = categories.find((c) => c.id === id);\r\n    return cat ? cat.name : \"Unknown Service\";\r\n  };\r\n\r\n  const getDistrictName = (id) => {\r\n    const dist = districts.find((d) => d.id === id);\r\n    return dist ? dist.name : \"Unknown District\";\r\n  };\r\n\r\n  const approveProvider = async (id) => {\r\n    markLoading(id);\r\n    try {\r\n      await axios.post(`https://khedme-api.onrender.com/api/providers/approve?id=${id}`);\r\n      toast.success(\"Provider approved ‚úÖ\");\r\n      setProviders((prev) => prev.filter((p) => p.id !== id));\r\n    } catch (err) {\r\n      console.error(\"Error approving provider:\", err);\r\n      toast.error(\"Approval failed ‚ùå\");\r\n    } finally {\r\n      unmarkLoading(id);\r\n    }\r\n  };\r\n\r\n  const rejectProvider = async (id) => {\r\n    if (!confirm(\"Reject this provider? This can be undone only by re-registering.\")) return;\r\n    markLoading(id);\r\n    try {\r\n      await axios.post(`https://khedme-api.onrender.com/api/providers/reject?id=${id}`);\r\n      toast.success(\"Provider rejected ‚úÖ\");\r\n      setProviders((prev) => prev.filter((p) => p.id !== id));\r\n    } catch (err) {\r\n      console.error(\"Error rejecting provider:\", err);\r\n      toast.error(\"Reject failed ‚ùå\");\r\n    } finally {\r\n      unmarkLoading(id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <div className=\"p-8 bg-gradient-to-br from-orange-50 to-white text-gray-900 min-h-screen\">\r\n        <Toaster position=\"top-center\" />\r\n        <h1 className=\"text-3xl font-bold mb-6 text-orange-600 text-center\">\r\n          Pending Providers\r\n        </h1>\r\n\r\n        {providers.length === 0 ? (\r\n          <p className=\"text-center text-gray-600\">No pending providers üéâ</p>\r\n        ) : (\r\n          <div className=\"max-w-3xl mx-auto grid gap-4\">\r\n            {providers.map((p) => (\r\n              <div\r\n                key={p.id}\r\n                className=\"bg-white shadow-md border border-orange-100 p-5 rounded-2xl flex justify-between items-center hover:shadow-lg transition\"\r\n              >\r\n                <div>\r\n                  <p className=\"font-semibold text-lg\">{p.full_name}</p>\r\n                  <p className=\"text-gray-600 text-sm\">\r\n                    {getCategoryName(p.category_id)} ‚Äî {getDistrictName(p.district_id)}\r\n                  </p>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-3\">\r\n                  <button\r\n                    onClick={() => rejectProvider(p.id)}\r\n                    disabled={loadingIds.includes(p.id)}\r\n                    className=\"bg-gray-200 hover:bg-gray-300 text-gray-800 px-3 py-1 rounded-md transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    {loadingIds.includes(p.id) ? \"Processing...\" : \"Reject\"}\r\n                  </button>\r\n\r\n                  <button\r\n                    onClick={() => approveProvider(p.id)}\r\n                    disabled={loadingIds.includes(p.id)}\r\n                    className=\"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    {loadingIds.includes(p.id) ? \"Processing...\" : \"Approve\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </AdminLayout>\r\n  );\r\n}\r\n\r\nexport default dynamic(() => Promise.resolve(ApprovePageComponent), { ssr: false });\r\n"],"names":[],"mappings":"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","debugId":null}}]
}