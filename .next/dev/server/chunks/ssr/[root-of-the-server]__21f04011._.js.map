{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///D:/Khedme/Khedme-Web/src/components/Admin/ApproveProviders.js"],"sourcesContent":["// src/components/Admin/ApproveProviders.js\r\nimport { useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { Phone, Calendar, User, MapPin, Briefcase } from \"lucide-react\";\r\n\r\nexport default function ApproveProviders() {\r\n  const [providers, setProviders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"https://khedme-api.onrender.com\";\r\n\r\n  useEffect(() => {\r\n    fetchProviders();\r\n  }, []);\r\n\r\n  const fetchProviders = async () => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/providers/pending`);\r\n      const data = await res.json();\r\n      if (data.success) setProviders(data.providers);\r\n      else toast.error(\"Failed to load providers âŒ\");\r\n    } catch {\r\n      toast.error(\"Error fetching providers\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAction = async (id, action) => {\r\n    try {\r\n      const res = await fetch(`${API_BASE}/api/providers/${action}`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ provider_id: id }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        toast.success(`Provider ${action}ed âœ…`);\r\n        setProviders((prev) => prev.filter((p) => p.id !== id));\r\n      } else toast.error(data.message || `Failed to ${action}`);\r\n    } catch {\r\n      toast.error(\"Action failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"transition-colors duration-300\">\r\n      <h1 className=\"text-2xl md:text-3xl font-bold text-center text-orange-600 dark:text-orange-400 mb-8\">\r\n        Pending Provider Approvals\r\n      </h1>\r\n\r\n      {loading ? (\r\n        <p className=\"text-center text-gray-500 dark:text-gray-300\">Loading...</p>\r\n      ) : providers.length === 0 ? (\r\n        <p className=\"text-center text-gray-500 dark:text-gray-300\">\r\n          No pending providers ðŸŽ‰\r\n        </p>\r\n      ) : (\r\n        <div className=\"max-w-3xl mx-auto space-y-5\">\r\n          {providers.map((provider, i) => (\r\n            <motion.div\r\n              key={provider.id}\r\n              initial={{ opacity: 0, y: 15 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: i * 0.05 }}\r\n              className=\"bg-white dark:bg-gray-800 shadow-md hover:shadow-lg rounded-2xl p-5 flex flex-col sm:flex-row sm:items-center justify-between gap-4 border border-gray-100 dark:border-gray-700\"\r\n            >\r\n              <div className=\"flex items-center gap-4\">\r\n                <img\r\n                  src={\r\n                    provider.profile_image ||\r\n                    `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n                      provider.full_name\r\n                    )}&background=ff7f11&color=fff`\r\n                  }\r\n                  alt={provider.full_name}\r\n                  className=\"w-12 h-12 rounded-full border-2 border-orange-500 object-cover\"\r\n                />\r\n                <div>\r\n                  <h2 className=\"font-semibold text-gray-800 dark:text-gray-100\">\r\n                    {provider.full_name || \"Unnamed Provider\"}\r\n                  </h2>\r\n                  <p className=\"flex items-center text-gray-600 dark:text-gray-400 text-sm mt-1\">\r\n                    <Phone size={14} className=\"mr-1\" /> {provider.phone || \"N/A\"}\r\n                  </p>\r\n                  <div className=\"flex flex-wrap gap-2 text-sm mt-1\">\r\n                    {provider.category_id && (\r\n                      <span className=\"flex items-center text-gray-600 dark:text-gray-400\">\r\n                        <Briefcase size={14} className=\"mr-1\" /> Category #{provider.category_id}\r\n                      </span>\r\n                    )}\r\n                    {provider.district_id && (\r\n                      <span className=\"flex items-center text-gray-600 dark:text-gray-400\">\r\n                        <MapPin size={14} className=\"mr-1\" /> District #{provider.district_id}\r\n                      </span>\r\n                    )}\r\n                    <span className=\"flex items-center text-gray-600 dark:text-gray-400\">\r\n                      <Calendar size={14} className=\"mr-1\" />{\" \"}\r\n                      Joined {new Date(provider.created_at).toLocaleDateString()}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex gap-3 sm:ml-4\">\r\n                <button\r\n                  onClick={() => handleAction(provider.id, \"approve\")}\r\n                  className=\"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg text-sm font-medium flex items-center gap-1 transition\"\r\n                >\r\n                  <User size={15} /> Approve\r\n                </button>\r\n                <button\r\n                  onClick={() => handleAction(provider.id, \"reject\")}\r\n                  className=\"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium flex items-center gap-1 transition\"\r\n                >\r\n                  âœ– Reject\r\n                </button>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///D:/Khedme/Khedme-Web/src/pages/admin/layout.js"],"sourcesContent":["// src/pages/admin/layout.js\r\nimport Link from \"next/link\";\r\nimport { useTheme } from \"next-themes\";\r\nimport { Sun, Moon, ShieldCheck } from \"lucide-react\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function AdminLayout({ children }) {\r\n  const { theme, setTheme } = useTheme();\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  useEffect(() => setMounted(true), []);\r\n  if (!mounted) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex bg-gray-50 dark:bg-gray-900 transition-colors duration-300\">\r\n      {/* Sidebar */}\r\n      <aside className=\"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 p-5 flex flex-col justify-between shadow-lg\">\r\n        {/* Top section: Logo + Nav links */}\r\n        <div>\r\n          <div className=\"flex items-center mb-6\">\r\n            <ShieldCheck size={24} className=\"text-orange-500 mr-2\" />\r\n            <h1 className=\"text-lg font-bold text-gray-800 dark:text-gray-100\">\r\n              Khedme Admin\r\n            </h1>\r\n          </div>\r\n\r\n          <nav className=\"space-y-2\">\r\n            <Link\r\n              href=\"/admin\"\r\n              className=\"block px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-orange-100 dark:hover:bg-orange-500/20 transition\"\r\n            >\r\n              Dashboard\r\n            </Link>\r\n            <Link\r\n              href=\"/admin/approve\"\r\n              className=\"block px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-orange-100 dark:hover:bg-orange-500/20 transition\"\r\n            >\r\n              Provider Approvals\r\n            </Link>\r\n            <Link\r\n              href=\"/admin/jobs\"\r\n              className=\"block px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-orange-100 dark:hover:bg-orange-500/20 transition\"\r\n            >\r\n              Manage Jobs\r\n            </Link>\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Bottom section: Theme Toggle */}\r\n        <div className=\"mt-10\">\r\n          <button\r\n            onClick={() => setTheme(theme === \"dark\" ? \"light\" : \"dark\")}\r\n            className=\"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-orange-100 dark:hover:bg-orange-500/20 transition font-medium\"\r\n          >\r\n            {theme === \"dark\" ? <Sun size={16} /> : <Moon size={16} />}\r\n            {theme === \"dark\" ? \"Light Mode\" : \"Dark Mode\"}\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"flex-1 p-6 overflow-y-auto\">\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;AAC5B;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;;;AAEe,SAAS,YAAY,EAAE,QAAQ,EAAE;IAC9C,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAA,wIAAQ;IACpC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,IAAA,gHAAS,EAAC,IAAM,WAAW,OAAO,EAAE;IACpC,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,qKAAC;QAAI,WAAU;;0BAEb,qKAAC;gBAAM,WAAU;;kCAEf,qKAAC;;0CACC,qKAAC;gCAAI,WAAU;;kDACb,qKAAC,4NAAW;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDACjC,qKAAC;wCAAG,WAAU;kDAAqD;;;;;;;;;;;;0CAKrE,qKAAC;gCAAI,WAAU;;kDACb,qKAAC,gIAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;kDAGD,qKAAC,gIAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;kDAGD,qKAAC,gIAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;;;;;;;kCAOL,qKAAC;wBAAI,WAAU;kCACb,cAAA,qKAAC;4BACC,SAAS,IAAM,SAAS,UAAU,SAAS,UAAU;4BACrD,WAAU;;gCAET,UAAU,uBAAS,qKAAC,gMAAG;oCAAC,MAAM;;;;;yDAAS,qKAAC,mMAAI;oCAAC,MAAM;;;;;;gCACnD,UAAU,SAAS,eAAe;;;;;;;;;;;;;;;;;;0BAMzC,qKAAC;gBAAK,WAAU;0BACb;;;;;;;;;;;;AAIT","debugId":null}},
    {"offset": {"line": 471, "column": 0}, "map": {"version":3,"sources":["file:///D:/Khedme/Khedme-Web/src/pages/admin/approve.js"],"sourcesContent":["// src/pages/admin/approve.js\r\nimport ApproveProviders from \"@/components/Admin/ApproveProviders\";\r\nimport AdminLayout from \"./layout\";\r\n\r\nexport default function ApprovePage() {\r\n  return (\r\n    <AdminLayout>\r\n      <ApproveProviders />\r\n    </AdminLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;AAC7B;AACA;;;;;;;;;AAEe,SAAS;IACtB,qBACE,qKAAC,mIAAW;kBACV,cAAA,qKAAC,kJAAgB;;;;;;;;;;AAGvB","debugId":null}}]
}