{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///D:/Khedme/Khedme-Web/pages/post-job.js"],"sourcesContent":["// pages/post-job.js\r\nimport { useState } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nconst SERVICE_CATEGORIES = [\r\n  \"Plumbing\",\r\n  \"Electricity\",\r\n  \"Painting\",\r\n  \"Carpentry\",\r\n  \"A/C Maintenance & Cleaning\",\r\n  \"Satellite & TV Installation\",\r\n  \"Internet & Wi-Fi Setup\",\r\n  \"Home Deep Cleaning\",\r\n  \"Appliance Repair\",\r\n  \"Gardening\",\r\n  \"General Maintenance\",\r\n];\r\n\r\nexport default function PostJob() {\r\n  const [form, setForm] = useState({\r\n    description: \"\",\r\n    service: \"\",\r\n    district: \"\",\r\n    budget: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!form.description || !form.service || !form.district) {\r\n      toast.error(\"Please fill all required fields\", {\r\n        style: { background: \"#FFE4E1\", color: \"#E25822\", border: \"1px solid #E25822\" },\r\n      });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/jobs/create`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          description: form.description,\r\n          service: form.service,\r\n          district: form.district,\r\n          budget: form.budget || 0,\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data.message || \"Failed to create job\");\r\n\r\n      toast.success(\"✅ Job posted successfully!\", {\r\n        style: { background: \"#FFF2E5\", color: \"#E25822\", border: \"1px solid #E25822\" },\r\n      });\r\n\r\n      setForm({ description: \"\", service: \"\", district: \"\", budget: \"\" });\r\n    } catch (err) {\r\n      console.error(\"❌ Job post error:\", err);\r\n      toast.error(err.message || \"Something went wrong\", {\r\n        style: { background: \"#FFE4E1\", color: \"#E25822\", border: \"1px solid #E25822\" },\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-orange-50 to-white flex items-center justify-center px-4\">\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className=\"bg-white shadow-lg rounded-2xl p-8 w-full max-w-md border border-orange-100\"\r\n      >\r\n        <h1 className=\"text-2xl font-semibold text-orange-600 mb-6\">Post a Job</h1>\r\n\r\n        <div className=\"space-y-4\">\r\n          <select\r\n            name=\"service\"\r\n            value={form.service}\r\n            onChange={handleChange}\r\n            className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-400 outline-none\"\r\n            required\r\n          >\r\n            <option value=\"\">Select a service</option>\r\n            {SERVICE_CATEGORIES.map((service) => (\r\n              <option key={service} value={service}>\r\n                {service}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          <input\r\n            type=\"text\"\r\n            name=\"district\"\r\n            placeholder=\"District (e.g., Beirut)\"\r\n            value={form.district}\r\n            onChange={handleChange}\r\n            className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-400 outline-none\"\r\n            required\r\n          />\r\n\r\n          <input\r\n            type=\"number\"\r\n            name=\"budget\"\r\n            placeholder=\"Budget (e.g., 50)\"\r\n            value={form.budget}\r\n            onChange={handleChange}\r\n            className=\"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-400 outline-none\"\r\n          />\r\n\r\n          <textarea\r\n            name=\"description\"\r\n            placeholder=\"Job description\"\r\n            value={form.description}\r\n            onChange={handleChange}\r\n            className=\"w-full border rounded-lg px-3 py-2 h-24 focus:ring-2 focus:ring-orange-400 outline-none\"\r\n            required\r\n          />\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full bg-orange-500 hover:bg-orange-600 text-white font-medium py-2 rounded-lg transition disabled:opacity-50\"\r\n          >\r\n            {loading ? \"Posting...\" : \"Post Job\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,oBAAoB;;;;;;AACpB;AACA;;;;;;;;AAEA,MAAM,qBAAqB;IACzB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEc,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;QAC/B,aAAa;QACb,SAAS;QACT,UAAU;QACV,QAAQ;IACV;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IAEvC,MAAM,eAAe,CAAC;QACpB,QAAQ;YAAE,GAAG,IAAI;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IACrD;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI,CAAC,KAAK,WAAW,IAAI,CAAC,KAAK,OAAO,IAAI,CAAC,KAAK,QAAQ,EAAE;YACxD,qHAAK,CAAC,KAAK,CAAC,mCAAmC;gBAC7C,OAAO;oBAAE,YAAY;oBAAW,OAAO;oBAAW,QAAQ;gBAAoB;YAChF;YACA;QACF;QAEA,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,2EAAmC,YAAY,CAAC,EAAE;gBACxE,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,aAAa,KAAK,WAAW;oBAC7B,SAAS,KAAK,OAAO;oBACrB,UAAU,KAAK,QAAQ;oBACvB,QAAQ,KAAK,MAAM,IAAI;gBACzB;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,KAAK,OAAO,IAAI;YAE7C,qHAAK,CAAC,OAAO,CAAC,8BAA8B;gBAC1C,OAAO;oBAAE,YAAY;oBAAW,OAAO;oBAAW,QAAQ;gBAAoB;YAChF;YAEA,QAAQ;gBAAE,aAAa;gBAAI,SAAS;gBAAI,UAAU;gBAAI,QAAQ;YAAG;QACnE,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,qBAAqB;YACnC,qHAAK,CAAC,KAAK,CAAC,IAAI,OAAO,IAAI,wBAAwB;gBACjD,OAAO;oBAAE,YAAY;oBAAW,OAAO;oBAAW,QAAQ;gBAAoB;YAChF;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YACC,UAAU;YACV,WAAU;;8BAEV,qKAAC;oBAAG,WAAU;8BAA8C;;;;;;8BAE5D,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BACC,MAAK;4BACL,OAAO,KAAK,OAAO;4BACnB,UAAU;4BACV,WAAU;4BACV,QAAQ;;8CAER,qKAAC;oCAAO,OAAM;8CAAG;;;;;;gCAChB,mBAAmB,GAAG,CAAC,CAAC,wBACvB,qKAAC;wCAAqB,OAAO;kDAC1B;uCADU;;;;;;;;;;;sCAMjB,qKAAC;4BACC,MAAK;4BACL,MAAK;4BACL,aAAY;4BACZ,OAAO,KAAK,QAAQ;4BACpB,UAAU;4BACV,WAAU;4BACV,QAAQ;;;;;;sCAGV,qKAAC;4BACC,MAAK;4BACL,MAAK;4BACL,aAAY;4BACZ,OAAO,KAAK,MAAM;4BAClB,UAAU;4BACV,WAAU;;;;;;sCAGZ,qKAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO,KAAK,WAAW;4BACvB,UAAU;4BACV,WAAU;4BACV,QAAQ;;;;;;sCAGV,qKAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,UAAU,eAAe;;;;;;;;;;;;;;;;;;;;;;;AAMtC","debugId":null}}]
}