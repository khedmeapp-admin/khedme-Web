{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///D:/Khedme/Khedme-Web/src/components/ui/button.js"],"sourcesContent":["export function Button({ children, className = \"\", ...props }) {\r\n  return (\r\n    <button\r\n      {...props}\r\n      className={`px-4 py-2 rounded-xl font-semibold transition-all duration-200 \r\n        bg-orange-500 hover:bg-orange-600 text-white disabled:opacity-60 disabled:cursor-not-allowed ${className}`}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IAC3D,qBACE,qKAAC;QACE,GAAG,KAAK;QACT,WAAW,CAAC;qGACmF,EAAE,WAAW;kBAE3G;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///D:/Khedme/Khedme-Web/src/components/ui/card.js"],"sourcesContent":["// src/components/ui/card.js\r\nexport function Card({ children, className = \"\" }) {\r\n  return (\r\n    <div className={`bg-white dark:bg-gray-800 shadow-sm rounded-2xl p-4 border border-gray-200 dark:border-gray-700 ${className}`}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function CardContent({ children, className = \"\" }) {\r\n  return <div className={`p-2 ${className}`}>{children}</div>;\r\n}\r\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;;;;AACrB,SAAS,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE;IAC/C,qBACE,qKAAC;QAAI,WAAW,CAAC,gGAAgG,EAAE,WAAW;kBAC3H;;;;;;AAGP;AAEO,SAAS,YAAY,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE;IACtD,qBAAO,qKAAC;QAAI,WAAW,CAAC,IAAI,EAAE,WAAW;kBAAG;;;;;;AAC9C","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///D:/Khedme/Khedme-Web/src/pages/provider/index.js"],"sourcesContent":["// src/pages/provider/index.js\r\nimport { useState, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Briefcase, CheckCircle, Clock, XCircle } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nexport default function ProviderDashboard() {\r\n  const [activeTab, setActiveTab] = useState(\"all\"); // all | applications\r\n  const [jobs, setJobs] = useState([]);\r\n  const [applications, setApplications] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [provider, setProvider] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const storedProvider = JSON.parse(localStorage.getItem(\"provider\"));\r\n    if (storedProvider) {\r\n      setProvider(storedProvider);\r\n      fetchJobs();\r\n    } else {\r\n      toast.error(\"Provider not found ‚Äî please log in again.\");\r\n    }\r\n  }, []);\r\n\r\n  const fetchJobs = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/jobs/all`);\r\n      const data = await res.json();\r\n      if (data.success) setJobs(data.jobs);\r\n      else toast.error(\"Failed to load jobs ‚ùå\");\r\n    } catch {\r\n      toast.error(\"Server unreachable ‚ùå\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchApplications = async () => {\r\n    if (!provider?.id) return;\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch(\r\n        `${process.env.NEXT_PUBLIC_API_URL}/api/providers/applications/${provider.id}`\r\n      );\r\n      const data = await res.json();\r\n      if (data.success) setApplications(data.applications);\r\n      else toast.error(\"Failed to load applications ‚ùå\");\r\n    } catch {\r\n      toast.error(\"Server unreachable ‚ùå\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleApply = async (jobId) => {\r\n    if (!provider?.id) {\r\n      toast.error(\"Login required ‚ùå\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(\r\n        `${process.env.NEXT_PUBLIC_API_URL}/api/providers/apply`,\r\n        {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            job_id: jobId,\r\n            provider_id: provider.id,\r\n            message: \"Hello ‚Äî I can take this job.\",\r\n          }),\r\n        }\r\n      );\r\n\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        toast.success(\"Applied successfully ‚úÖ\");\r\n        fetchApplications();\r\n      } else {\r\n        toast.error(data.message || \"Failed to apply ‚ùå\");\r\n      }\r\n    } catch {\r\n      toast.error(\"Server unreachable ‚ùå\");\r\n    }\r\n  };\r\n\r\n  const renderJobs = () => (\r\n    <div className=\"grid md:grid-cols-2 gap-4\">\r\n      {jobs.map((job) => (\r\n        <Card\r\n          key={job.id}\r\n          className=\"bg-white/80 dark:bg-gray-900 shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all\"\r\n        >\r\n          <CardContent className=\"p-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\r\n              {job.service}\r\n            </h3>\r\n            <p className=\"text-gray-600 dark:text-gray-400 text-sm mt-1\">\r\n              {job.description}\r\n            </p>\r\n            <div className=\"flex justify-between items-center mt-3 text-sm\">\r\n              <span className=\"text-gray-500 dark:text-gray-400\">\r\n                üìç {job.district}\r\n              </span>\r\n              <span className=\"font-semibold text-orange-500\">${job.budget}</span>\r\n            </div>\r\n            <Button\r\n              className=\"w-full mt-3 bg-orange-500 hover:bg-orange-600 text-white\"\r\n              onClick={() => handleApply(job.id)}\r\n            >\r\n              Apply\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  const renderApplications = () => (\r\n    <div className=\"grid md:grid-cols-2 gap-4\">\r\n      {applications.map((app) => (\r\n        <Card\r\n          key={app.id}\r\n          className=\"bg-white/80 dark:bg-gray-900 border border-gray-200 dark:border-gray-700\"\r\n        >\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex justify-between items-start\">\r\n              <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">\r\n                {app.service}\r\n              </h3>\r\n              <StatusBadge status={app.status} />\r\n            </div>\r\n            <p className=\"text-gray-600 dark:text-gray-400 text-sm mt-1\">\r\n              {app.description}\r\n            </p>\r\n            <div className=\"flex justify-between items-center mt-3 text-sm\">\r\n              <span className=\"text-gray-500 dark:text-gray-400\">\r\n                üìç {app.district}\r\n              </span>\r\n              <span className=\"font-semibold text-orange-500\">${app.budget}</span>\r\n            </div>\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-2 italic\">\r\n              {app.message}\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      ))}\r\n      {applications.length === 0 && !loading && (\r\n        <p className=\"text-center text-gray-500 dark:text-gray-400 mt-10\">\r\n          No applications yet üí§\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"min-h-screen bg-gray-50 dark:bg-gray-950 text-gray-900 dark:text-white p-6\"\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      <h1 className=\"text-2xl font-bold text-orange-500 mb-6\">\r\n        Provider Dashboard\r\n      </h1>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"flex gap-4 mb-6\">\r\n        <Button\r\n          variant={activeTab === \"all\" ? \"default\" : \"outline\"}\r\n          onClick={() => {\r\n            setActiveTab(\"all\");\r\n            fetchJobs();\r\n          }}\r\n          className=\"rounded-xl\"\r\n        >\r\n          <Briefcase className=\"mr-2 w-4 h-4\" /> All Jobs\r\n        </Button>\r\n        <Button\r\n          variant={activeTab === \"applications\" ? \"default\" : \"outline\"}\r\n          onClick={() => {\r\n            setActiveTab(\"applications\");\r\n            fetchApplications();\r\n          }}\r\n          className=\"rounded-xl\"\r\n        >\r\n          <Clock className=\"mr-2 w-4 h-4\" /> My Applications\r\n        </Button>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <p className=\"text-center text-gray-500\">Loading...</p>\r\n      ) : activeTab === \"all\" ? (\r\n        renderJobs()\r\n      ) : (\r\n        renderApplications()\r\n      )}\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nfunction StatusBadge({ status }) {\r\n  const colors = {\r\n    pending: \"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300\",\r\n    approved: \"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300\",\r\n    rejected: \"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300\",\r\n  };\r\n\r\n  const icons = {\r\n    pending: <Clock className=\"w-4 h-4 mr-1\" />,\r\n    approved: <CheckCircle className=\"w-4 h-4 mr-1\" />,\r\n    rejected: <XCircle className=\"w-4 h-4 mr-1\" />,\r\n  };\r\n\r\n  return (\r\n    <span\r\n      className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${colors[status]}`}\r\n    >\r\n      {icons[status]}\r\n      {status.charAt(0).toUpperCase() + status.slice(1)}\r\n    </span>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}