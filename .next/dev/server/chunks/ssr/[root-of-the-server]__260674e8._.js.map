{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Khedme/Khedme-Web/src/components/ui/button.js"],"sourcesContent":["export function Button({ children, className = \"\", ...props }) {\r\n  return (\r\n    <button\r\n      {...props}\r\n      className={`px-4 py-2 rounded-xl font-semibold transition-all duration-200 \r\n        bg-orange-500 hover:bg-orange-600 text-white disabled:opacity-60 disabled:cursor-not-allowed ${className}`}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IAC3D,qBACE,qKAAC;QACE,GAAG,KAAK;QACT,WAAW,CAAC;qGACmF,EAAE,WAAW;kBAE3G;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///D:/Khedme/Khedme-Web/src/pages/admin/approve.js"],"sourcesContent":["// src/pages/admin/approve.js\r\nimport { useEffect, useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { CheckCircle, XCircle, Loader2 } from \"lucide-react\";\r\n\r\nexport default function ApproveProviders() {\r\n  const [providers, setProviders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [actionLoading, setActionLoading] = useState(null);\r\n\r\n  // âœ… Fetch pending providers\r\n  const fetchPendingProviders = async () => {\r\n    try {\r\n      const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/providers/pending`);\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        setProviders(data.providers.filter((p) => p.status === \"pending\"));\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Failed to load providers âŒ\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // âœ… Approve provider\r\n  const handleApprove = async (id) => {\r\n    setActionLoading(id);\r\n    try {\r\n      const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/providers/approve`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ id }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        toast.success(data.message);\r\n        setProviders((prev) => prev.filter((p) => p.id !== id));\r\n      } else {\r\n        toast.error(data.message || \"Approval failed âŒ\");\r\n      }\r\n    } catch {\r\n      toast.error(\"Error approving provider âŒ\");\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  // âœ… Reject provider\r\n  const handleReject = async (id) => {\r\n    setActionLoading(id);\r\n    try {\r\n      const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/api/providers/reject`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ id }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        toast.success(data.message);\r\n        setProviders((prev) => prev.filter((p) => p.id !== id));\r\n      } else {\r\n        toast.error(data.message || \"Rejection failed âŒ\");\r\n      }\r\n    } catch {\r\n      toast.error(\"Error rejecting provider âŒ\");\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPendingProviders();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 p-6\">\r\n      <h1 className=\"text-2xl font-bold text-orange-600 mb-6 text-center\">\r\n        Pending Providers\r\n      </h1>\r\n\r\n      {loading ? (\r\n        <div className=\"flex justify-center items-center h-40\">\r\n          <Loader2 className=\"animate-spin text-orange-500 w-6 h-6\" />\r\n        </div>\r\n      ) : providers.length === 0 ? (\r\n        <p className=\"text-center text-gray-500\">No pending providers ðŸŽ‰</p>\r\n      ) : (\r\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {providers.map((provider) => (\r\n            <Card\r\n              key={provider.id}\r\n              className=\"border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition\"\r\n            >\r\n              <CardContent className=\"p-4\">\r\n                <p className=\"font-semibold text-gray-800 dark:text-gray-200\">\r\n                  {provider.full_name || \"Unnamed Provider\"}\r\n                </p>\r\n                <p className=\"text-sm text-gray-500\">{provider.phone}</p>\r\n                <p className=\"text-xs text-gray-400 mt-1\">\r\n                  ID: {provider.id}\r\n                </p>\r\n\r\n                <div className=\"flex justify-between mt-4\">\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"text-green-600 border-green-600 hover:bg-green-50 dark:hover:bg-green-900/20\"\r\n                    onClick={() => handleApprove(provider.id)}\r\n                    disabled={actionLoading === provider.id}\r\n                  >\r\n                    {actionLoading === provider.id ? (\r\n                      <Loader2 className=\"animate-spin w-4 h-4\" />\r\n                    ) : (\r\n                      <CheckCircle className=\"w-4 h-4 mr-2\" />\r\n                    )}\r\n                    Approve\r\n                  </Button>\r\n\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"text-red-600 border-red-600 hover:bg-red-50 dark:hover:bg-red-900/20\"\r\n                    onClick={() => handleReject(provider.id)}\r\n                    disabled={actionLoading === provider.id}\r\n                  >\r\n                    {actionLoading === provider.id ? (\r\n                      <Loader2 className=\"animate-spin w-4 h-4\" />\r\n                    ) : (\r\n                      <XCircle className=\"w-4 h-4 mr-2\" />\r\n                    )}\r\n                    Reject\r\n                  </Button>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}