(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[611],{3407:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(7876),n=r(4232),o=r(9099),i=r(7685);function a(){let e=(0,o.useRouter)(),[t,r]=(0,n.useState)(e.query.phone||""),[a,d]=(0,n.useState)(""),[l,c]=(0,n.useState)(!1),u=async()=>{if(!a)return i.Ay.error("Enter the OTP code first");c(!0);try{let r=await fetch("https://khedme-api.onrender.com/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:t,otp:a})}),s=await r.json();if(!r.ok)throw Error(s.message||"Invalid OTP");s.provider?localStorage.setItem("provider",JSON.stringify(s.provider)):localStorage.setItem("provider",JSON.stringify({id:1,name:"Demo Provider",phone:t})),i.Ay.success("Login successful âœ…"),e.push("/provider/dashboard")}catch(e){i.Ay.error(e.message)}finally{c(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-600 to-black",children:(0,s.jsxs)("div",{className:"bg-white/10 p-8 rounded-2xl backdrop-blur-md shadow-lg w-96",children:[(0,s.jsx)("h1",{className:"text-center text-white text-xl font-bold mb-6",children:"Verify OTP"}),(0,s.jsxs)("p",{className:"text-sm text-orange-200 text-center mb-4",children:["Enter the 6-digit code sent to"," ",(0,s.jsx)("span",{className:"font-semibold",children:t})]}),(0,s.jsx)("input",{type:"text",value:a,onChange:e=>d(e.target.value),maxLength:6,placeholder:"123456",className:"w-full mb-4 px-4 py-2 rounded-md bg-white text-black focus:outline-none focus:ring-2 focus:ring-orange-400"}),(0,s.jsx)("button",{onClick:u,disabled:l,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded-md font-semibold transition",children:l?"Verifying...":"Verify OTP"})]})})}},4168:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify-otp",function(){return r(3407)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=4168)),_N_E=e.O()}]);