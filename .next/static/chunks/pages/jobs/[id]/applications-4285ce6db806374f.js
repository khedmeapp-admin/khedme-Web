(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{85:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var a=s(7876),o=s(4232),r=s(9099),n=s(7685);function i(){let e=(0,r.useRouter)(),{id:t}=e.query,[s,i]=(0,o.useState)([]);(0,o.useEffect)(()=>{t&&fetch(`https://khedme-api.onrender.com/api/jobs/${t}/applications`).then(e=>e.json()).then(e=>i(e.applications||[])).catch(e=>{console.error("Fetch error:",e),n.Ay.error("Failed to load")})},[t]);let d=async(e,t)=>{let s=await fetch(`https://khedme-api.onrender.com/api/jobs/applications/${e}/${t}`,{method:"POST"}),a=await s.json();s.ok?(n.Ay.success(`${t}ed`),i(s=>s.map(s=>s.id===e?{...s,status:t}:s))):n.Ay.error(a.message)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white p-6",children:[(0,a.jsx)(n.l$,{position:"top-center"}),(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4 text-orange-600",children:"Applications"}),(0,a.jsx)("button",{onClick:()=>e.push(`/jobs/${t}`),className:"mb-6 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg shadow-md transition",children:"← Back to Job"}),s.map(e=>(0,a.jsxs)("div",{className:"border border-orange-200 p-4 rounded-2xl mb-4 bg-white shadow-sm",children:[(0,a.jsx)("p",{className:"text-gray-800",children:e.message}),(0,a.jsxs)("p",{className:`text-sm font-medium mb-2 ${"approved"===e.status?"text-green-600":"rejected"===e.status?"text-red-500":"text-orange-500"}`,children:["Status: ",e.status]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>d(e.id,"approve"),disabled:"approved"===e.status,className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded transition",children:"Approve"}),(0,a.jsx)("button",{onClick:()=>d(e.id,"reject"),disabled:"rejected"===e.status,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-1 rounded transition",children:"Reject"})]})]},e.id))]})}},4184:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/jobs/[id]/applications",function(){return s(85)}])},9099:(e,t,s)=>{e.exports=s(9603)}},e=>{e.O(0,[636,593,792],()=>e(e.s=4184)),_N_E=e.O()}]);